<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ç‹å¯ºå·¥æ¥­ 2IA | Blue Sky School Life</title>
  <!-- ãƒ•ã‚©ãƒ³ãƒˆèª­ã¿è¾¼ã¿ -->
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <!-- QRã‚³ãƒ¼ãƒ‰è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒª -->
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
  <style>
    /* --- ãƒ‡ã‚¶ã‚¤ãƒ³å¤‰æ•° (2IAãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ) --- */
    :root {
      --primary: #4cc9f0; 
      --primary-dark: #4361ee; 
      --secondary: #ffd166; 
      --bg-color: #f0f7ff; 
      --text-color: #2b2d42; 
      --header-grad: linear-gradient(90deg, #4361ee, #4cc9f0, #72efdd);
      --font-main: 'M PLUS Rounded 1c', sans-serif;
      --card-radius: 25px;
      --header-radius: 0 0 20px 20px;
      --hero-width: 95%;
      --hero-margin: 20px auto;
    }

    /* --- 1IAãƒ‡ã‚¶ã‚¤ãƒ³ (ã‚¹ã‚¤ãƒƒãƒONæ™‚ã«é©ç”¨) --- */
    body.theme-1ia {
      --primary: #005bac; 
      --primary-dark: #004080; 
      --bg-color: #f8f9fa; 
      --text-color: #333; 
      --header-grad: #005bac;
      --font-main: 'Noto Sans JP', sans-serif;
      --card-radius: 8px;
      --header-radius: 0;
      /* 1IAæ™‚ã¯ç”»åƒã‚’ç«¯ã‹ã‚‰ç«¯ã¾ã§è¡¨ç¤º */
      --hero-width: 100%;
      --hero-margin: 0;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; transition: background 0.3s, border-radius 0.3s; }
    body { font-family: var(--font-main); background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; }

    /* --- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”»é¢ï¼ˆ1IAãƒ‡ã‚¶ã‚¤ãƒ³åˆ‡ã‚Šæ›¿ãˆå¯¾å¿œï¼‰ --- */
    .password-screen {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      min-height: 100vh; background: var(--header-grad); color: white; text-align: center; padding: 20px;
    }
    /* 1IAãƒ†ãƒ¼ãƒæ™‚ã®ãƒ­ã‚°ã‚¤ãƒ³èƒŒæ™¯ã‚’#333ã«å›ºå®š */
    body.theme-1ia .password-screen { background: #333 !important; }

    .password-screen h1 { margin-bottom: 20px; font-size: 24px; font-weight: bold; }
    .password-screen input {
      padding: 12px; font-size: 16px; border-radius: var(--card-radius); border: none; outline: none; width: 80%; max-width: 300px; margin-bottom: 15px; text-align: center;
    }
    .password-screen button {
      padding: 10px 25px; font-size: 16px; border-radius: var(--card-radius); border: none; background: #fff; color: #333; font-weight: bold; cursor: pointer; margin: 5px;
    }
    /* 1IAãƒ†ãƒ¼ãƒæ™‚ã®ãƒœã‚¿ãƒ³ã‚’å°‘ã—ã‚°ãƒ¬ãƒ¼ã« */
    body.theme-1ia .password-screen button { background: #f0f0f0; border-radius: 4px; }

    /* --- ãƒ˜ãƒƒãƒ€ãƒ¼ --- */
    header {
      background: var(--header-grad); padding: 15px 20px; position: sticky; top: 0; z-index: 1000;
      display: flex; align-items: center; justify-content: space-between; border-radius: var(--header-radius);
    }
    header .logo { font-size: 18px; font-weight: 800; color: white; background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 20px; }
    
    /* --- ã‚¹ã‚¤ãƒƒãƒ --- */
    .switch-area { display: flex; align-items: center; gap: 8px; margin-right: 10px; }
    .switch { position: relative; display: inline-block; width: 44px; height: 22px; }
    .switch input { opacity: 0; width: 0; height: 0; }
    .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(255,255,255,0.3); transition: .4s; border-radius: 22px; }
    .slider:before { position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
    input:checked + .slider { background-color: #ffd166; }
    input:checked + .slider:before { transform: translateX(22px); }

    /* --- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚¨ãƒªã‚¢ (å‹•ãç”»åƒ) --- */
    .hero { 
      position: relative; width: var(--hero-width); max-width: 1200px; margin: var(--hero-margin);
      border-radius: var(--card-radius); overflow: hidden; border: 6px solid white; transition: all 0.3s;
    }
    body.theme-1ia .hero { border: none; max-width: 100%; border-radius: 0; }
    .hero-img { display: block; width: 100%; height: auto; transition: opacity 0.8s; }
    .hero-text { position: absolute; bottom: 20px; left: 20px; right: 20px; background: rgba(255,255,255,0.85); padding: 15px; border-radius: 20px; text-align: center; color: #2b2d42; }
    body.theme-1ia .hero-text { background: rgba(0,0,0,0.5); color: white; bottom: 0; left: 0; right: 0; border-radius: 0; padding: 20px; }

    /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
    .page-content { max-width: 1000px; margin: 20px auto; padding: 20px; }
    .card { background: white; border-radius: var(--card-radius); padding: 25px; margin-bottom: 25px; border-bottom: 6px solid var(--primary); }

    @media (max-width: 768px) { nav ul { display: none; } .menu-toggle { display: block; color: white; font-size: 24px; cursor: pointer; } }
  </style>
</head>
<body>

  <!-- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç”»é¢ -->
  <div class="password-screen" id="password-screen">
    <div id="login-emoji" style="font-size: 60px; margin-bottom: 10px;">âŒ¨ï¸</div>
    <h1 id="login-title">2IA Blue Members</h1>
    <p id="login-msg" style="margin-bottom: 20px; font-weight: bold;">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã¦ã­ï¼</p>
    
    <input type="password" id="password-input" placeholder="Password...">
    
    <div>
      <button onclick="checkPassword()">ãƒ­ã‚°ã‚¤ãƒ³ï¼</button>
      <button id="qr-btn" onclick="toggleQRReader()">QRã§ã‚¹ã‚­ãƒ£ãƒ³</button>
    </div>
    
    <div id="qr-reader-container" style="display:none; margin-top:20px; width:300px; border:4px solid white; border-radius:20px; overflow:hidden;">
      <video id="qr-video" playsinline style="width:100%;"></video>
      <canvas id="qr-canvas" style="display:none;"></canvas>
    </div>
  </div>

  <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
  <div class="main-content" id="main-content" style="display:none;">
    <header>
      <div id="header-logo" class="logo">âœ¨ 2IA OJI-TECH</div>
      <div style="display: flex; align-items: center;">
        <div class="switch-area">
          <span style="color:white; font-size:10px; font-weight:bold;">1IAé¢¨</span>
          <label class="switch">
            <input type="checkbox" id="theme-toggle" onchange="switchTheme()">
            <span class="slider"></span>
          </label>
        </div>
        <div class="menu-toggle" onclick="toggleMenu()">â˜°</div>
      </div>
      <nav><ul id="nav-list"><li><a onclick="showPage('home')">ğŸ ãƒ›ãƒ¼ãƒ </a></li><li><a onclick="showPage('schedule')">ğŸ“…æ™‚é–“å‰²</a></li></ul></nav>
    </header>

    <section class="hero">
      <img src="https://rerizu2.github.io/oji-2025-1AI/æ–‡åŒ–ç¥­.png" alt="ã‚¹ãƒ©ã‚¤ãƒ‰" class="hero-img">
      <div class="hero-text">
        <h1 id="hero-title">âœ¨ 2IA's Blue World âœ¨</h1>
        <p id="hero-sub">ç‹å¯ºå·¥æ¥­é«˜æ ¡ æƒ…å ±é›»å­å·¥å­¦ç§‘ 2å¹´Açµ„</p>
      </div>
    </section>

    <section class="page-content" id="page-content"></section>

    <footer style="text-align:center; padding:30px; background:var(--primary); color:white;">
      <p id="footer-text">&copy; 2026 ç‹å¯ºå·¥æ¥­é«˜ç­‰å­¦æ ¡ 2å¹´Açµ„</p>
    </footer>
  </div>

  <script>
    const targetHash = "102ab13815f135"; // V9hug

    // --- ãƒ‡ã‚¶ã‚¤ãƒ³åˆ‡ã‚Šæ›¿ãˆ ---
    function switchTheme() {
      const is1IA = document.getElementById('theme-toggle').checked;
      applyTheme(is1IA);
      localStorage.setItem('oji-theme', is1IA ? '1ia' : '2ia');
    }

    function applyTheme(is1IA) {
      const body = document.body;
      if (is1IA) {
        body.classList.add('theme-1ia');
        document.getElementById('login-title').innerText = "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„";
        document.getElementById('login-msg').innerText = "";
        document.getElementById('login-emoji').style.display = "none";
        document.getElementById('header-logo').innerText = "1å¹´ Iç§‘ Açµ„";
        document.getElementById('hero-title').innerText = "ã‚ˆã†ã“ã 1IA ãƒšãƒ¼ã‚¸ã¸";
        document.getElementById('hero-sub').innerText = "æƒ…å ±é›»å­å·¥å­¦ç§‘";
      } else {
        body.classList.remove('theme-1ia');
        document.getElementById('login-title').innerText = "2IA Blue Members";
        document.getElementById('login-msg').innerText = "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥ã‚Œã¦ã­ï¼";
        document.getElementById('login-emoji').style.display = "block";
        document.getElementById('header-logo').innerText = "âœ¨ 2IA OJI-TECH";
        document.getElementById('hero-title').innerText = "âœ¨ 2IA's Blue World âœ¨";
        document.getElementById('hero-sub').innerText = "ç‹å¯ºå·¥æ¥­é«˜æ ¡ æƒ…å ±é›»å­å·¥å­¦ç§‘ 2å¹´Açµ„";
      }
      if (document.getElementById('main-content').style.display === 'block') showPage('home');
    }

    // èª­ã¿è¾¼ã¿æ™‚ã«ä¿å­˜ã•ã‚ŒãŸãƒ†ãƒ¼ãƒã‚’é©ç”¨
    window.onload = function() {
      const saved = localStorage.getItem('oji-theme');
      const is1IA = (saved === '1ia');
      document.getElementById('theme-toggle').checked = is1IA;
      applyTheme(is1IA);
    };

    // --- ãƒ­ã‚°ã‚¤ãƒ³ ---
    function checkPassword() {
      const input = document.getElementById("password-input").value.trim();
      const logic = input.split('').map(c => (c.charCodeAt(0) * 3).toString(16)).join('');
      if (logic === targetHash) {
        document.getElementById("password-screen").style.display = "none";
        document.getElementById("main-content").style.display = "block";
        showPage('home');
      } else { alert("ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé•ã„ã¾ã™"); }
    }

    function showPage(page) {
      const content = document.getElementById("page-content");
      if (document.body.classList.contains('theme-1ia')) {
        content.innerHTML = `<div class="card"><h1>1IAãƒ‡ã‚¶ã‚¤ãƒ³</h1><p>å½“æ™‚ã®ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ã‚’å†ç¾ä¸­ã€‚</p></div>`;
      } else {
        content.innerHTML = `<div class="card"><h2>ğŸ“¢ ãŠçŸ¥ã‚‰ã›</h2><p>2IAã®æœ€æ–°æƒ…å ±ã¯ã“ã¡ã‚‰ã€‚</p></div>`;
      }
    }

    // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚·ãƒ§ãƒ¼
    const heroImages = ["https://rerizu2.github.io/oji-2025-1AI/æ–‡åŒ–ç¥­.png", "https://rerizu2.github.io/oji-2025-1AI/ä½“è‚²å¤§ä¼š.png", "https://rerizu2.github.io/oji-2025-1AI/æ ¡å¤–å­¦ç¿’.png", "https://rerizu2.github.io/oji-2025-1AI/çƒæŠ€å¤§ä¼š.png"];
    let idx = 0;
    setInterval(() => { idx = (idx + 1) % heroImages.length; document.querySelector(".hero-img").src = heroImages[idx]; }, 5000);
    function toggleMenu() { document.getElementById("nav-list").classList.toggle("show"); }

    // --- QR (ç°¡æ˜“) ---
    let stream = null;
    async function toggleQRReader() {
      const container = document.getElementById("qr-reader-container");
      if (stream) { stream.getTracks().forEach(t => t.stop()); stream = null; container.style.display = "none"; }
      else {
        stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "environment" } });
        document.getElementById("qr-video").srcObject = stream;
        document.getElementById("qr-video").play();
        container.style.display = "block";
      }
    }
  </script>
</body>
</html>
